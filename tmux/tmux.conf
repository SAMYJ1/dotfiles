
# ===============================
# ğŸ§© åŸºç¡€è®¾ç½®
# ===============================

# ä½¿ç”¨ç°ä»£é…ç½®è·¯å¾„ (~/.config/tmux)
set -g base-index 1
setw -g pane-base-index 1
set-option -g renumber-windows on

# ä½¿ç”¨ 256 è‰²
set -g default-terminal "screen-256color"

# çŠ¶æ€æ åˆ·æ–°æ—¶é—´
set -g status-interval 5

# é¼ æ ‡æ”¯æŒï¼ˆæ”¯æŒæ»šåŠ¨ã€ç‚¹å‡»é€‰æ‹© paneã€è°ƒæ•´ pane å¤§å°ï¼‰
set -g mouse on

# å†å²è®°å½•é•¿åº¦
set -g history-limit 10000

# æ¶ˆæ¯æç¤ºæ˜¾ç¤ºæ—¶é—´ï¼ˆå•ä½ msï¼‰
set -g display-time 1000

# plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
set -g @plugin 'tmux-plugins/tmux-yank'

# ===============================
# âš¡ï¸ å¿«æ·é”®ç»‘å®š
# ===============================

# æ”¹å˜é»˜è®¤ prefix é”®ä¸º Ctrl + a
# unbind C-b
set -g prefix C-b
bind C-b send-prefix

# é‡æ–°åŠ è½½é…ç½®
bind r source-file ~/.config/tmux/tmux.conf \; display "Reloaded tmux config âœ…"

# ===============================
# ğŸªŸ é¢æ¿æ“ä½œï¼ˆä½¿ç”¨ Vim é£æ ¼ï¼‰
# ===============================

bind n next-window
bind p previous-window
bind L next-window
bind H previous-window

# åˆ†å±
bind | split-window -h
bind - split-window -v

# æ¸…å±
bind K run "tmux send-keys -R; tmux clear-history"

# å…³é—­é¢æ¿
bind x kill-pane

# åœ¨ h/j/k/l ä¹‹é—´ç§»åŠ¨
bind -r h select-pane -L
bind -r j select-pane -D
bind -r k select-pane -U
bind -r l select-pane -R

# äº¤æ¢é¢æ¿ä½ç½®ï¼ˆå¯é€‰ï¼‰
# bind H swap-pane -L
# bind L swap-pane -R

# è°ƒæ•´é¢æ¿å¤§å°
bind -r < resize-pane -L 5
bind -r > resize-pane -R 5
bind -r + resize-pane -U 2
bind -r _ resize-pane -D 2


# ===============================
# ğŸ¨ å¤–è§‚ç¾åŒ–ï¼ˆå¯æŒ‰éœ€ä¿®æ”¹ï¼‰
# ===============================

set -g status-position top
set -g status-style default
set -g status-left "#[fg=green]â«¸ #S#[default] "
set -g @bg default
set -g @fg "#aaaaaa"
set -g @fg-current "#89B4FB"

# set -g status-justify "absolute-centre"
set -g status-justify "left"
setw -g window-status-separator " âŸ¢ "
set -g window-status-style "bg=#{@bg},fg=#{@fg}"
set -g window-status-format " #W "
set -g window-status-current-format "#[bg=#{@bg},fg=#{@fg-current},bold] #W #[fg=#39BAE6,bg=#{@bg}]#{?window_zoomed_flag,ó°Š“,}#[fg=#{@fg},bg=default]"
set -g status-right '#{prefix_highlight} #[fg=#7196d1]#(echo "#{pane_current_path}" | sed "s|$HOME|~|") '
set -g status-right-length 1000
set -g status-left-length 1000

# ===============================
# ğŸ§  å…¶ä»–å®ç”¨è®¾ç½®
# ===============================

# å¤åˆ¶æ¨¡å¼ä½¿ç”¨ vi é£æ ¼
setw -g mode-keys vi
set -g set-clipboard on
bind-key -T copy-mode-vi v send -X begin-selection
unbind-key -T copy-mode-vi y
bind-key -T copy-mode-vi y send-keys -X copy-selection
bind-key -T copy-mode-vi Escape send -X clear-selection

# é¼ æ ‡å¤åˆ¶å…¼å®¹æ¨¡å¼
bind -T copy-mode-vi MouseDragEnd1Pane send -X copy-selection-and-cancel

run '~/.config/tmux/plugins/tpm/tpm'

